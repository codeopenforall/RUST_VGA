$ (cwd=/tmp/asan_pair18_a2_vulnerable_imbefdfy) cargo +nightly test --lib -- --nocapture

   Compiling pair18_a2_vulnerable v0.1.0 (/tmp/asan_pair18_a2_vulnerable_imbefdfy)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.18s
     Running unittests src/lib.rs (target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1)

running 1 test
=================================================================
==4011857==ERROR: AddressSanitizer: heap-use-after-free on address 0x6d325dde4010 at pc 0x58049b7ce07c bp 0x6d125b7fe230 sp 0x6d125b7fe228
READ of size 4 at 0x6d325dde4010 thread T1
    #0 0x58049b7ce07b  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0x12207b) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)
    #1 0x58049b7cc4bf  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0x1204bf) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)
    #2 0x58049b7cc3b5  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0x1203b5) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)
    #3 0x58049b7ccf56  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0x120f56) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)
    #4 0x58049b7cda55  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0x121a55) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)
    #5 0x58049b7ef45a  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0x14345a) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)
    #6 0x58049b804e44  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0x158e44) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)
    #7 0x58049b7db863  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0x12f863) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)
    #8 0x58049b7df249  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0x133249) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)
    #9 0x58049b824e6e  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0x178e6e) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)
    #10 0x58049b79b266  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0xef266) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)
    #11 0x71125ec94ac2  (/lib/x86_64-linux-gnu/libc.so.6+0x94ac2) (BuildId: d5197096f709801829b118af1b7cf6631efa2dcd)
    #12 0x71125ed2684f  (/lib/x86_64-linux-gnu/libc.so.6+0x12684f) (BuildId: d5197096f709801829b118af1b7cf6631efa2dcd)

0x6d325dde4010 is located 0 bytes inside of 4-byte region [0x6d325dde4010,0x6d325dde4014)
freed by thread T1 here:
    #0 0x58049b79d106  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0xf1106) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)
    #1 0x58049b7cbf3a  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0x11ff3a) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)
    #2 0x58049b7cdc83  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0x121c83) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)
    #3 0x58049b7cdab0  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0x121ab0) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)
    #4 0x58049b7cc4bf  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0x1204bf) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)
    #5 0x58049b7cc3b5  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0x1203b5) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)
    #6 0x58049b804e44  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0x158e44) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)
    #7 0x58049b7db863  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0x12f863) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)
    #8 0x58049b7df249  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0x133249) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)
    #9 0x58049b824e6e  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0x178e6e) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)
    #10 0x58049b79b266  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0xef266) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)

previously allocated by thread T1 here:
    #0 0x58049b79d3a4  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0xf13a4) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)
    #1 0x58049b7cbc23  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0x11fc23) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)
    #2 0x58049b7cb924  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0x11f924) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)
    #3 0x58049b7cc4bf  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0x1204bf) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)
    #4 0x58049b7cc3b5  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0x1203b5) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)
    #5 0x58049b804e44  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0x158e44) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)
    #6 0x58049b7db863  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0x12f863) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)
    #7 0x58049b7df249  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0x133249) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)
    #8 0x58049b824e6e  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0x178e6e) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)
    #9 0x58049b79b266  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0xef266) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)

Thread T1 created by T0 here:
    #0 0x58049b781c91  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0xd5c91) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)
    #1 0x58049b82508f  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0x17908f) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)
    #2 0x58049b8039bd  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0x1579bd) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)
    #3 0x58049b7fcd04  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0x150d04) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)
    #4 0x58049b806345  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0x15a345) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)
    #5 0x58049b7ef09a  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0x14309a) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)
    #6 0x58049b7cdcf2  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0x121cf2) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)
    #7 0x58049b7cd78f  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0x12178f) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)
    #8 0x58049b7ce13d  (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0x12213d) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967)

SUMMARY: AddressSanitizer: heap-use-after-free (/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1+0x12207b) (BuildId: f0b1572e2b93761e33b4134164e7829770ce5967) 
Shadow bytes around the buggy address:
  0x6d325dde3d80: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x6d325dde3e00: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x6d325dde3e80: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x6d325dde3f00: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x6d325dde3f80: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
=>0x6d325dde4000: fa fa[fd]fa fa fa 04 fa fa fa fa fa fa fa fa fa
  0x6d325dde4080: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x6d325dde4100: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x6d325dde4180: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x6d325dde4200: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x6d325dde4280: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07 
  Heap left redzone:       fa
  Freed heap region:       fd
  Stack left redzone:      f1
  Stack mid redzone:       f2
  Stack right redzone:     f3
  Stack after return:      f5
  Stack use after scope:   f8
  Global redzone:          f9
  Global init order:       f6
  Poisoned by user:        f7
  Container overflow:      fc
  Array cookie:            ac
  Intra object redzone:    bb
  ASan internal:           fe
  Left alloca redzone:     ca
  Right alloca redzone:    cb
==4011857==ABORTING
error: test failed, to rerun pass `--lib`

Caused by:
  process didn't exit successfully: `/tmp/asan_pair18_a2_vulnerable_imbefdfy/target/debug/deps/pair18_a2_vulnerable-68aa8f3e87b6faf1 --nocapture` (exit status: 1)

$ (cwd=/tmp/asan_pair3_a2_vulnerable_2qzp8a4f) cargo +nightly test --lib -- --nocapture

   Compiling pair3_a2_vulnerable v0.1.0 (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.23s
     Running unittests src/lib.rs (target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5)

running 1 test
=================================================================
==4012915==ERROR: AddressSanitizer: heap-use-after-free on address 0x7178a17e4010 at pc 0x617a26f55911 bp 0x71589e4f4770 sp 0x71589e4f4768
READ of size 4 at 0x7178a17e4010 thread T2
    #0 0x617a26f55910  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x127910) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #1 0x617a26f5caf5  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x12eaf5) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #2 0x617a26f5bbf9  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x12dbf9) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #3 0x617a26f5ea70  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x130a70) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #4 0x617a26f5c8b6  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x12e8b6) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #5 0x617a26f5c2ca  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x12e2ca) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #6 0x617a26f5b7fc  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x12d7fc) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #7 0x617a26f5febd  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x131ebd) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #8 0x617a26fb8e1e  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x18ae1e) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #9 0x617a26f235a6  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0xf55a6) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #10 0x7558a2494ac2  (/lib/x86_64-linux-gnu/libc.so.6+0x94ac2) (BuildId: d5197096f709801829b118af1b7cf6631efa2dcd)
    #11 0x7558a252684f  (/lib/x86_64-linux-gnu/libc.so.6+0x12684f) (BuildId: d5197096f709801829b118af1b7cf6631efa2dcd)

0x7178a17e4010 is located 0 bytes inside of 4-byte region [0x7178a17e4010,0x7178a17e4014)
freed by thread T1 here:
    #0 0x617a26f25636  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0xf7636) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #1 0x617a26f5f15a  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x13115a) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #2 0x617a26f62293  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x134293) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #3 0x617a26f60c10  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x132c10) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #4 0x617a26f60979  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x132979) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #5 0x617a26f5972f  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x12b72f) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #6 0x617a26f5d8bf  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x12f8bf) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #7 0x617a26f55796  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x127796) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #8 0x617a26f98df4  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x16adf4) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #9 0x617a26f6f813  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x141813) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #10 0x617a26f731f9  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x1451f9) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #11 0x617a26fb8e1e  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x18ae1e) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #12 0x617a26f235a6  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0xf55a6) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)

previously allocated by thread T1 here:
    #0 0x617a26f258d4  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0xf78d4) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #1 0x617a26f5ee43  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x130e43) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #2 0x617a26f5eb44  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x130b44) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #3 0x617a26f5d8bf  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x12f8bf) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #4 0x617a26f55796  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x127796) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #5 0x617a26f98df4  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x16adf4) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #6 0x617a26f6f813  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x141813) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #7 0x617a26f731f9  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x1451f9) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #8 0x617a26fb8e1e  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x18ae1e) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #9 0x617a26f235a6  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0xf55a6) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)

Thread T2 created by T1 here:
    #0 0x617a26f09fd1  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0xdbfd1) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #1 0x617a26fb903f  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x18b03f) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #2 0x617a26f5ac4b  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x12cc4b) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #3 0x617a26f59f9e  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x12bf9e) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #4 0x617a26f5973a  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x12b73a) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #5 0x617a26f5d8bf  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x12f8bf) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #6 0x617a26f55796  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x127796) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #7 0x617a26f98df4  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x16adf4) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #8 0x617a26f6f813  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x141813) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #9 0x617a26f731f9  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x1451f9) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #10 0x617a26fb8e1e  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x18ae1e) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #11 0x617a26f235a6  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0xf55a6) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)

Thread T1 created by T0 here:
    #0 0x617a26f09fd1  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0xdbfd1) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #1 0x617a26fb903f  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x18b03f) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #2 0x617a26f9796d  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x16996d) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #3 0x617a26f90cb4  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x162cb4) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #4 0x617a26f9a2f5  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x16c2f5) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #5 0x617a26f8304a  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x15504a) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #6 0x617a26f59592  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x12b592) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #7 0x617a26f5df0f  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x12ff0f) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)
    #8 0x617a26f59a1d  (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x12ba1d) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b)

SUMMARY: AddressSanitizer: heap-use-after-free (/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5+0x127910) (BuildId: 9982a5389f5f492a8a1d466687cc6924cc59157b) 
Shadow bytes around the buggy address:
  0x7178a17e3d80: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x7178a17e3e00: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x7178a17e3e80: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x7178a17e3f00: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x7178a17e3f80: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
=>0x7178a17e4000: fa fa[fd]fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x7178a17e4080: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x7178a17e4100: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x7178a17e4180: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x7178a17e4200: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x7178a17e4280: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07 
  Heap left redzone:       fa
  Freed heap region:       fd
  Stack left redzone:      f1
  Stack mid redzone:       f2
  Stack right redzone:     f3
  Stack after return:      f5
  Stack use after scope:   f8
  Global redzone:          f9
  Global init order:       f6
  Poisoned by user:        f7
  Container overflow:      fc
  Array cookie:            ac
  Intra object redzone:    bb
  ASan internal:           fe
  Left alloca redzone:     ca
  Right alloca redzone:    cb
==4012915==ABORTING
error: test failed, to rerun pass `--lib`

Caused by:
  process didn't exit successfully: `/tmp/asan_pair3_a2_vulnerable_2qzp8a4f/target/debug/deps/pair3_a2_vulnerable-c3dd5f5254e30ff5 --nocapture` (exit status: 1)

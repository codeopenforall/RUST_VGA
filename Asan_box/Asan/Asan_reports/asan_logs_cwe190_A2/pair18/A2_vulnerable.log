$ (cwd=/tmp/asan_pair18_a2_vulnerable_3buxwaa9) cargo +nightly test --lib -- --nocapture

   Compiling pair18_a2_vulnerable v0.1.0 (/tmp/asan_pair18_a2_vulnerable_3buxwaa9)
error[E0277]: `UnsafeCell<u32>` cannot be shared between threads safely
  --> src/lib.rs:10:36
   |
10 |           threads.push(thread::spawn(move || unsafe {
   |  ______________________-------------_^
   | |                      |
   | |                      required by a bound introduced by this call
11 | |             let current_value = *product_clone.get();
12 | |             *product_clone.get() = current_value + i; // Intentional defect: using addition instead of multiplication
13 | |         }));
   | |_________^ `UnsafeCell<u32>` cannot be shared between threads safely
   |
   = help: the trait `Sync` is not implemented for `UnsafeCell<u32>`
   = note: required for `Arc<UnsafeCell<u32>>` to implement `Send`
note: required because it's used within this closure
  --> src/lib.rs:10:36
   |
10 |         threads.push(thread::spawn(move || unsafe {
   |                                    ^^^^^^^
note: required by a bound in `spawn`
  --> /rustc/fa3155a644dd62e865825087b403646be01d4cef/library/std/src/thread/mod.rs:723:1

For more information about this error, try `rustc --explain E0277`.
error: could not compile `pair18_a2_vulnerable` (lib test) due to 1 previous error

$ (cwd=/tmp/asan_pair4_a3_vulnerable_8_nqzb28) cargo +nightly test --lib -- --nocapture

   Compiling pair4_a3_vulnerable v0.1.0 (/tmp/asan_pair4_a3_vulnerable_8_nqzb28)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.17s
     Running unittests src/lib.rs (target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace)

running 1 test

thread 'tests::test_memory_release' (4165903) panicked at src/lib.rs:9:13:
double free detected
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
=================================================================
==4165902==ERROR: AddressSanitizer: attempting double-free on 0x7b3965be4010 in thread T1:
    #0 0x5e569478eb56  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0xf1b56) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #1 0x5e56947c16fa  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x1246fa) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #2 0x5e56947c09a3  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x1239a3) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #3 0x5e56947c023f  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x12323f) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #4 0x5e56947c0f54  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x123f54) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #5 0x5e56947c1045  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x124045) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #6 0x5e56947be615  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x121615) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #7 0x5e56947bf6f7  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x1226f7) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #8 0x5e56947bf53a  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x12253a) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #9 0x5e56947bf47d  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x12247d) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #10 0x5e56947bf8aa  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x1228aa) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #11 0x5e56947be5f6  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x1215f6) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #12 0x5e56947c0135  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x123135) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #13 0x5e56947e236a  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x14536a) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #14 0x5e56947f7d54  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x15ad54) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #15 0x5e56947ce773  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x131773) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #16 0x5e56947d2159  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x135159) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #17 0x5e5694817d7e  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x17ad7e) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #18 0x5e569478ccb6  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0xefcb6) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #19 0x7f1966894ac2  (/lib/x86_64-linux-gnu/libc.so.6+0x94ac2) (BuildId: d5197096f709801829b118af1b7cf6631efa2dcd)
    #20 0x7f196692684f  (/lib/x86_64-linux-gnu/libc.so.6+0x12684f) (BuildId: d5197096f709801829b118af1b7cf6631efa2dcd)

0x7b3965be4010 is located 0 bytes inside of 4-byte region [0x7b3965be4010,0x7b3965be4014)
freed by thread T1 here:
    #0 0x5e569478eb56  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0xf1b56) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #1 0x5e56947c16fa  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x1246fa) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #2 0x5e56947c09a3  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x1239a3) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #3 0x5e56947c025b  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x12325b) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #4 0x5e56947c1045  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x124045) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #5 0x5e56947bf8aa  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x1228aa) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #6 0x5e56947be5f6  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x1215f6) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #7 0x5e56947f7d54  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x15ad54) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #8 0x5e56947ce773  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x131773) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #9 0x5e56947d2159  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x135159) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #10 0x5e5694817d7e  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x17ad7e) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #11 0x5e569478ccb6  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0xefcb6) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)

previously allocated by thread T1 here:
    #0 0x5e569478edf4  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0xf1df4) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #1 0x5e56947c13e3  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x1243e3) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #2 0x5e56947c10e4  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x1240e4) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #3 0x5e56947c1045  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x124045) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #4 0x5e56947bf8aa  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x1228aa) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #5 0x5e56947be5f6  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x1215f6) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #6 0x5e56947f7d54  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x15ad54) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #7 0x5e56947ce773  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x131773) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #8 0x5e56947d2159  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x135159) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #9 0x5e5694817d7e  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x17ad7e) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #10 0x5e569478ccb6  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0xefcb6) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)

Thread T1 created by T0 here:
    #0 0x5e56947736e1  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0xd66e1) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #1 0x5e5694817f9f  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x17af9f) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #2 0x5e56947f68cd  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x1598cd) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #3 0x5e56947efc14  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x152c14) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #4 0x5e56947f9255  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x15c255) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #5 0x5e56947e1faa  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x144faa) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #6 0x5e56947c1062  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x124062) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #7 0x5e56947bfcef  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x122cef) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)
    #8 0x5e56947c108d  (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0x12408d) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138)

SUMMARY: AddressSanitizer: double-free (/tmp/asan_pair4_a3_vulnerable_8_nqzb28/target/debug/deps/pair4_a3_vulnerable-d0cbb8f68f205ace+0xf1b56) (BuildId: ba01edd69d872b55d6ef6977174352e8fa51b138) 

thread 'tests::test_memory_release' (4165903) panicked at src/lib.rs:45:9:
Resource deallocation failed due to double free
test tests::test_memory_release ... FAILED

failures:

failures:
    tests::test_memory_release

test result: FAILED. 0 passed; 1 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

error: test failed, to rerun pass `--lib`

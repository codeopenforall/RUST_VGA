$ (cwd=/tmp/asan_pair11_a2_vulnerable_kxiq6mlg) cargo +nightly test --lib -- --nocapture

   Compiling pair11_a2_vulnerable v0.1.0 (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.17s
     Running unittests src/lib.rs (target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656)

running 1 test
=================================================================
==4004714==ERROR: AddressSanitizer: attempting double-free on 0x72a23b7e4010 in thread T1:
    #0 0x5b08e66d79b6  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0xf19b6) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #1 0x5b08e6706d7a  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x120d7a) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #2 0x5b08e6709093  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x123093) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #3 0x5b08e6708ec0  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x122ec0) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #4 0x5b08e670853a  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x12253a) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #5 0x5b08e670974a  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x12374a) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #6 0x5b08e670963b  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x12363b) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #7 0x5b08e67086dc  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x1226dc) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #8 0x5b08e6706da6  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x120da6) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #9 0x5b08e6708ca5  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x122ca5) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #10 0x5b08e672a48a  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x14448a) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #11 0x5b08e673fe74  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x159e74) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #12 0x5b08e6716893  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x130893) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #13 0x5b08e671a279  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x134279) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #14 0x5b08e675fe9e  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x179e9e) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #15 0x5b08e66d5b16  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0xefb16) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #16 0x76823c694ac2  (/lib/x86_64-linux-gnu/libc.so.6+0x94ac2) (BuildId: d5197096f709801829b118af1b7cf6631efa2dcd)
    #17 0x76823c72684f  (/lib/x86_64-linux-gnu/libc.so.6+0x12684f) (BuildId: d5197096f709801829b118af1b7cf6631efa2dcd)

0x72a23b7e4010 is located 0 bytes inside of 4-byte region [0x72a23b7e4010,0x72a23b7e4014)
freed by thread T1 here:
    #0 0x5b08e66d79b6  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0xf19b6) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #1 0x5b08e6706d7a  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x120d7a) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #2 0x5b08e6709093  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x123093) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #3 0x5b08e6708ec0  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x122ec0) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #4 0x5b08e670974a  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x12374a) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #5 0x5b08e67086dc  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x1226dc) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #6 0x5b08e6706da6  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x120da6) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #7 0x5b08e673fe74  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x159e74) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #8 0x5b08e6716893  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x130893) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #9 0x5b08e671a279  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x134279) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #10 0x5b08e675fe9e  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x179e9e) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #11 0x5b08e66d5b16  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0xefb16) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)

previously allocated by thread T1 here:
    #0 0x5b08e66d7c54  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0xf1c54) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #1 0x5b08e6706a63  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x120a63) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #2 0x5b08e6706764  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x120764) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #3 0x5b08e67086dc  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x1226dc) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #4 0x5b08e6706da6  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x120da6) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #5 0x5b08e673fe74  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x159e74) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #6 0x5b08e6716893  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x130893) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #7 0x5b08e671a279  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x134279) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #8 0x5b08e675fe9e  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x179e9e) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #9 0x5b08e66d5b16  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0xefb16) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)

Thread T1 created by T0 here:
    #0 0x5b08e66bc541  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0xd6541) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #1 0x5b08e67600bf  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x17a0bf) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #2 0x5b08e673e9ed  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x1589ed) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #3 0x5b08e6737d34  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x151d34) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #4 0x5b08e6741375  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x15b375) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #5 0x5b08e672a0ca  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x1440ca) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #6 0x5b08e6709552  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x123552) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #7 0x5b08e6707f3f  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x121f3f) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)
    #8 0x5b08e670981d  (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0x12381d) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5)

SUMMARY: AddressSanitizer: double-free (/tmp/asan_pair11_a2_vulnerable_kxiq6mlg/target/debug/deps/pair11_a2_vulnerable-9b1b753f26f9c656+0xf19b6) (BuildId: f371302e18c3a1cb22c6982ef591e951d696bdc5) 

thread 'tests::test_resource_handling' (4004715) panicked at src/lib.rs:57:9:
Resource handling failed due to double free vulnerability
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
test tests::test_resource_handling ... FAILED

failures:

failures:
    tests::test_resource_handling

test result: FAILED. 0 passed; 1 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

error: test failed, to rerun pass `--lib`

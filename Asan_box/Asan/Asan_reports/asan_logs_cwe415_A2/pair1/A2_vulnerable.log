$ (cwd=/tmp/asan_pair1_a2_vulnerable_vz4ctm9v) cargo +nightly test --lib -- --nocapture

   Compiling pair1_a2_vulnerable v0.1.0 (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.18s
     Running unittests src/lib.rs (target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc)

running 1 test
=================================================================
==4004185==ERROR: AddressSanitizer: attempting double-free on 0x6ef292fe4010 in thread T1:
    #0 0x57e1eada2d46  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0xf1d46) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #1 0x57e1eadd36ea  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x1226ea) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #2 0x57e1eadd4803  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x123803) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #3 0x57e1eadd4010  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x123010) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #4 0x57e1eadd4326  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x123326) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #5 0x57e1eadd3fd9  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x122fd9) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #6 0x57e1eadd2227  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x121227) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #7 0x57e1eadd3b65  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x122b65) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #8 0x57e1eadd4d67  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x123d67) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #9 0x57e1eadd24aa  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x1214aa) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #10 0x57e1eadd23ed  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x1213ed) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #11 0x57e1eadd4f3a  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x123f3a) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #12 0x57e1eadd3b46  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x122b46) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #13 0x57e1eadd3ed5  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x122ed5) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #14 0x57e1eadf603a  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x14503a) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #15 0x57e1eae0ba24  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x15aa24) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #16 0x57e1eade2443  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x131443) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #17 0x57e1eade5e29  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x134e29) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #18 0x57e1eae2ba4e  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x17aa4e) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #19 0x57e1eada0ea6  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0xefea6) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #20 0x72d293c94ac2  (/lib/x86_64-linux-gnu/libc.so.6+0x94ac2) (BuildId: d5197096f709801829b118af1b7cf6631efa2dcd)
    #21 0x72d293d2684f  (/lib/x86_64-linux-gnu/libc.so.6+0x12684f) (BuildId: d5197096f709801829b118af1b7cf6631efa2dcd)

0x6ef292fe4010 is located 0 bytes inside of 4-byte region [0x6ef292fe4010,0x6ef292fe4014)
freed by thread T1 here:
    #0 0x57e1eada2d46  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0xf1d46) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #1 0x57e1eadd36ea  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x1226ea) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #2 0x57e1eadd4803  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x123803) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #3 0x57e1eadd4010  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x123010) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #4 0x57e1eadd3fd9  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x122fd9) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #5 0x57e1eadd3b65  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x122b65) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #6 0x57e1eadd4f3a  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x123f3a) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #7 0x57e1eadd3b46  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x122b46) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #8 0x57e1eae0ba24  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x15aa24) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #9 0x57e1eade2443  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x131443) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #10 0x57e1eade5e29  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x134e29) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #11 0x57e1eae2ba4e  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x17aa4e) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #12 0x57e1eada0ea6  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0xefea6) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)

previously allocated by thread T1 here:
    #0 0x57e1eada2fe4  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0xf1fe4) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #1 0x57e1eadd33d3  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x1223d3) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #2 0x57e1eadd30d4  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x1220d4) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #3 0x57e1eadd3b65  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x122b65) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #4 0x57e1eadd4f3a  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x123f3a) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #5 0x57e1eadd3b46  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x122b46) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #6 0x57e1eae0ba24  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x15aa24) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #7 0x57e1eade2443  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x131443) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #8 0x57e1eade5e29  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x134e29) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #9 0x57e1eae2ba4e  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x17aa4e) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #10 0x57e1eada0ea6  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0xefea6) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)

Thread T1 created by T0 here:
    #0 0x57e1ead878d1  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0xd68d1) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #1 0x57e1eae2bc6f  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x17ac6f) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #2 0x57e1eae0a59d  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x15959d) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #3 0x57e1eae038e4  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x1528e4) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #4 0x57e1eae0cf25  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x15bf25) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #5 0x57e1eadf5c7a  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x144c7a) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #6 0x57e1eadd20e2  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x1210e2) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #7 0x57e1eadd1d2f  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x120d2f) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)
    #8 0x57e1eadd231d  (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0x12131d) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512)

SUMMARY: AddressSanitizer: double-free (/tmp/asan_pair1_a2_vulnerable_vz4ctm9v/target/debug/deps/pair1_a2_vulnerable-b251f02194705dcc+0xf1d46) (BuildId: d46b3d9b59e9d0a76d9846be89bc132314421512) 

thread 'tests::test_run_app_integrity' (4004186) panicked at src/lib.rs:20:17:
Double free detected
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

thread 'tests::test_run_app_integrity' (4004186) panicked at src/lib.rs:50:9:
Application panicked due to double free vulnerability
test tests::test_run_app_integrity ... FAILED

failures:

failures:
    tests::test_run_app_integrity

test result: FAILED. 0 passed; 1 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

error: test failed, to rerun pass `--lib`

In this corrected version the heap-allocated object is not prematurely freed.
Ownership is preserved until after the data is accessed, and then cleanup is performed.
This eliminates the use‐after‐free vulnerability by ensuring that the memory remains valid 
throughout its use. The code follows community idioms by safely managing memory with Box.
In the corrected code the off-by-one error is fixed by adjusting the loop bounds to iterate only over indices 0..n 
(instead of 0..=n). This ensures that only the valid elements in the data array are read. The use of an unsafe block is retained 
purely for illustration of the unsafe pointer arithmetic pattern, but the vulnerability has been eliminated.
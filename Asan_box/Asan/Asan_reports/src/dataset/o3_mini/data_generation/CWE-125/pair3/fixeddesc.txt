The revised code replaces the unsafe raw pointer arithmetic with a safe API. Instead of directly using as_ptr().add(idx),
it uses Vec::get to perform bounds checking. When the index is out of range, the function returns None,
thereby averting any undefined behavior or memory safety issues.
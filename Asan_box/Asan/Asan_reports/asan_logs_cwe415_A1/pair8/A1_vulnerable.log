$ (cwd=/tmp/asan_pair8_a1_vulnerable_iepfeh8d) cargo +nightly test --lib -- --nocapture

   Compiling pair8_a1_vulnerable v0.1.0 (/tmp/asan_pair8_a1_vulnerable_iepfeh8d)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.18s
     Running unittests src/lib.rs (target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0)

running 1 test
=================================================================
==3809206==ERROR: AddressSanitizer: attempting double-free on 0x6e73591e4010 in thread T1:
    #0 0x5dcd91d41a66  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0xf1a66) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #1 0x5dcd91d7198a  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0x12198a) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #2 0x5dcd91d72433  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0x122433) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #3 0x5dcd91d720c0  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0x1220c0) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #4 0x5dcd91d72213  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0x122213) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #5 0x5dcd91d720d9  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0x1220d9) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #6 0x5dcd91d70d22  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0x120d22) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #7 0x5dcd91d70896  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0x120896) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #8 0x5dcd91d71ea5  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0x121ea5) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #9 0x5dcd91d9468a  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0x14468a) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #10 0x5dcd91daa074  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0x15a074) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #11 0x5dcd91d80a93  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0x130a93) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #12 0x5dcd91d84479  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0x134479) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #13 0x5dcd91dca09e  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0x17a09e) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #14 0x5dcd91d3fbc6  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0xefbc6) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #15 0x725359e94ac2  (/lib/x86_64-linux-gnu/libc.so.6+0x94ac2) (BuildId: d5197096f709801829b118af1b7cf6631efa2dcd)
    #16 0x725359f2684f  (/lib/x86_64-linux-gnu/libc.so.6+0x12684f) (BuildId: d5197096f709801829b118af1b7cf6631efa2dcd)

0x6e73591e4010 is located 0 bytes inside of 4-byte region [0x6e73591e4010,0x6e73591e4014)
freed by thread T1 here:
    #0 0x5dcd91d41a66  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0xf1a66) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #1 0x5dcd91d7198a  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0x12198a) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #2 0x5dcd91d72433  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0x122433) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #3 0x5dcd91d720c0  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0x1220c0) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #4 0x5dcd91d70cf5  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0x120cf5) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #5 0x5dcd91d70896  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0x120896) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #6 0x5dcd91daa074  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0x15a074) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #7 0x5dcd91d80a93  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0x130a93) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #8 0x5dcd91d84479  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0x134479) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #9 0x5dcd91dca09e  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0x17a09e) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #10 0x5dcd91d3fbc6  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0xefbc6) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)

previously allocated by thread T1 here:
    #0 0x5dcd91d41d04  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0xf1d04) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #1 0x5dcd91d71673  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0x121673) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #2 0x5dcd91d71374  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0x121374) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #3 0x5dcd91d70896  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0x120896) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #4 0x5dcd91daa074  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0x15a074) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #5 0x5dcd91d80a93  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0x130a93) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #6 0x5dcd91d84479  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0x134479) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #7 0x5dcd91dca09e  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0x17a09e) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #8 0x5dcd91d3fbc6  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0xefbc6) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)

Thread T1 created by T0 here:
    #0 0x5dcd91d265f1  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0xd65f1) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #1 0x5dcd91dca2bf  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0x17a2bf) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #2 0x5dcd91da8bed  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0x158bed) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #3 0x5dcd91da1f34  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0x151f34) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #4 0x5dcd91dab575  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0x15b575) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #5 0x5dcd91d942ca  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0x1442ca) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #6 0x5dcd91d70622  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0x120622) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #7 0x5dcd91d736bf  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0x1236bf) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)
    #8 0x5dcd91d7087d  (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0x12087d) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff)

SUMMARY: AddressSanitizer: double-free (/tmp/asan_pair8_a1_vulnerable_iepfeh8d/target/debug/deps/pair8_a1_vulnerable-13a224def27da3f0+0xf1a66) (BuildId: 16fcd769a794beede364e2ae8e5487014ff1adff) 

thread 'tests::test_double_free_detection' (3809207) panicked at src/lib.rs:62:9:
assertion `left == right` failed: Double free detected: unexpected number of deallocations
  left: 2
 right: 1
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
test tests::test_double_free_detection ... FAILED

failures:

failures:
    tests::test_double_free_detection

test result: FAILED. 0 passed; 1 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

error: test failed, to rerun pass `--lib`

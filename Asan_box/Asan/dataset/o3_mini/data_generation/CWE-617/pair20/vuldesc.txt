This version contains a reachable assertion vulnerability (CWE-617). An attacker can supply a value greater than 10 via a command-line argument to force the unsafe update (inside an unsafe block using raw pointers) to set the internal threshold field. The concurrent thread performs an uncontrolled update on shared state. The subsequent assertion then triggers a panic, which may lead to denial-of-service.
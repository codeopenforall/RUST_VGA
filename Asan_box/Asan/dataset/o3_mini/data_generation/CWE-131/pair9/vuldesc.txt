The vulnerability arises from the incorrect computation of the buffer size. Instead of calculating the actual byte length of the string content (using content.len()), the code mistakenly employs mem::size_of_val on the String object. This returns the size of the String structure (which includes pointers, length, and capacity) rather than the number of bytes in the UTF-8 encoded string. Consequently, this can lead to buffer over-read or writing of uninitialized memory when copying the string data.
This corrected code addresses the vulnerability by eliminating the use of unwrap_or_default()
for exceptional conditions. Instead, it employs Result-based error propagation.
When an empty dataset is encountered or a division cannot be performed,
the function returns an appropriate error rather than a default value.
The unsafe block still demonstrates low-level pointer manipulation,
but proper checks ensure that the error conditions are explicitly and safely handled.
This vulnerable code uses an unsafe block to perform origin validation by comparing the pointer address of the header value to that of a string literal ("trusted.example.com"). Because the header is constructed dynamically (even with the same content), the pointer comparison fails, resulting in a false rejection of a valid request. This mistake in origin checking can lead to security issues in systems that rely on such validations for trust decisions.
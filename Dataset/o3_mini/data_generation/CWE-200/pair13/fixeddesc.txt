In the corrected version the Debug implementation for the sensitive data has been modified to mask the secret key.
Furthermore, the process() function returns a generic error message that no longer embeds the secretâ€™s Debug representation.
This prevents the unintentional exposure of sensitive information in logs or panic messages while keeping the overall flow and unsafe/concurrent API usage for realistic simulation.